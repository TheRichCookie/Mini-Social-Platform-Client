<div class="uk pagination">
  <div
    tabindex="0"
    role="button"
    class="first"
    [ngClass]="{
      disabled: currentPage <= 0,
    }"
    (click)="onGoPreviousPage()"
    (keypress.enter)="onGoPreviousPage()"
  >
    <uk-icon
      [fgColor]="
        currentPage > 0
          ? UK_TYPE.ICON.FG_COLOR.CONTENT_HIGH_EMPHASIS
          : UK_TYPE.ICON.FG_COLOR.CONTENT_DISABLED
      "
      [name]="UK_TYPE.ICON.NAME.CHEVRON_RIGHT"
    />
  </div>

  <div class="middle">
    @for (
      pageNumber of pagination.start;
      track pagination.start;
      let i = $index
    ) {
      <ng-container
        *ngTemplateOutlet="
          exampleTemplate;
          context: {
            value: pageNumber,
            isCurrent: pageNumber === pagination.current,
          }
        "
      />
    }
    <div *ngIf="firstDots" class="dots">
      <ng-container
        *ngTemplateOutlet="
          exampleTemplate;
          context: { value: '...', isCurrent: false }
        "
      />
    </div>
    @for (
      pageNumber of pagination.middle;
      track pagination.middle;
      let i = $index
    ) {
      <ng-container
        *ngTemplateOutlet="
          exampleTemplate;
          context: {
            value: pageNumber,
            isCurrent: pageNumber === pagination.current,
          }
        "
      />
    }
    <div *ngIf="secondDots" class="dots">
      <ng-container
        *ngTemplateOutlet="
          exampleTemplate;
          context: { value: '...', isCurrent: false }
        "
      />
    </div>
    @for (pageNumber of pagination.end; track pagination.end; let i = $index) {
      <ng-container
        *ngTemplateOutlet="
          exampleTemplate;
          context: {
            value: pageNumber,
            isCurrent: pageNumber === pagination.current,
          }
        "
      />
    }
  </div>

  <div
    tabindex="0"
    role="button"
    class="last"
    [ngClass]="{
      disabled: currentPage >= totalPages - 1,
    }"
    (click)="onGoNextPage()"
    (keypress.enter)="onGoNextPage()"
  >
    <uk-icon
      [fgColor]="
        currentPage < totalPages - 1
          ? UK_TYPE.ICON.FG_COLOR.CONTENT_HIGH_EMPHASIS
          : UK_TYPE.ICON.FG_COLOR.CONTENT_DISABLED
      "
      [name]="UK_TYPE.ICON.NAME.CHEVRON_LEFT"
    />
  </div>
</div>

<ng-template #exampleTemplate let-isCurrent="isCurrent" let-value="value">
  <div
    tabindex="0"
    role="button"
    class="page-button"
    [ngClass]="{ active: isCurrent }"
    (click)="onChangePage(value)"
    (keypress.enter)="onChangePage(value)"
  >
    <uk-text
      [fgColor]="
        isCurrent
          ? UK_TYPE.TEXT.FG_COLOR.CONTENT_HIGH_EMPHASIS
          : UK_TYPE.TEXT.FG_COLOR.CONTENT_LOW_EMPHASIS
      "
      [horizontalAlignment]="UK_TYPE.TEXT.HORIZONTAL_ALIGNMENT.CENTER"
      [numeric]="UK_TYPE.TEXT.NUMERIC.PERSIAN"
      [typography]="UK_TYPE.TEXT.TYPOGRAPHY.BODY_2"
    >
      {{ value }}
    </uk-text>
  </div>
</ng-template>
