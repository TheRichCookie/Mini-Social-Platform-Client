/* Container to set the dark sky background and establish the animation context */
.uk.star-field {
    position: absolute; /* Allows stars to be positioned relative to this */
    top: 0;
    left: 0;

    /* Apply the animation to move the background layers */
    // animation: nebulae-shift 60s linear infinite alternate;
    background-color: #0d1124; /* Dark blue/black for the night sky */

    /* ----------------------------------------------------- */
    /* NEW: Multiple Background Gradients for Nebulae Effect */
    /* ----------------------------------------------------- */
    background: 
    /* Nebulae 1: Large, faint purple cloud in the upper-right */
        radial-gradient(ellipse at 80% 20%, rgba(0, 47, 226, 0.08) 0%, transparent 70%),
        /* Nebulae 2: Faint blue-green cloud in the mid-left */
            radial-gradient(ellipse at 20% 50%, rgba(0, 255, 255, 0.06) 0%, transparent 60%),
        /* Nebulae 3: Subtle red/pink glow at the bottom-center */
            radial-gradient(ellipse at 50% 90%, rgba(255, 0, 100, 0.05) 0%, transparent 80%),
        /* Fallback background color (MUST be the last item) */ #0d1124;

    /* Required to allow the animation to shift the gradients */
    background-size: 200% 200%;
    width: 100%;
    height: 100%;
    overflow: hidden; /* Crucial: Hides stars when they are outside the field */

    .star {
        position: absolute;
        opacity: 0;
        animation-duration: 10s; /* How long one star takes to travel */
        animation-timing-function: linear; /* Constant speed */
        animation-iteration-count: infinite; /* Repeat forever */

        /* Apply BOTH animations */
        animation:
            star-flight var(--flight-duration) linear infinite,
            star-twinkle 1.5s ease-in-out infinite alternate;
        box-shadow: 0 0 calc(var(--base-opacity) * 5px) rgba(255, 255, 255, 0.8);

        border-radius: 50%;
        background-color: white;
    }
}

@keyframes star-flight {
    /* Start far below the screen */
    0% {
        transform: translateY(120vh) scale(0.6);
        opacity: 0;
    }

    /* The star should be visible when it enters the screen */
    10% {
        opacity: 0.8;
    }

    /* The star should be visible across the screen */
    90% {
        opacity: 0.8;
    }

    /* End far above the screen */
    100% {
        transform: translateY(-20vh) scale(0.6);
        opacity: 0;
    }
}

@keyframes star-twinkle {
    0%,
    100% {
        opacity: var(--base-opacity); /* Use the star's calculated base brightness */
    }
    50% {
        /* Blink down to 30% of its base brightness, or 0.1, whichever is dimmer */
        opacity: calc(var(--base-opacity) * 0.3);
    }
}

@keyframes nebulae-shift {
    0% {
        background-position: 0% 0%; /* Start at top-left */
    }
    100% {
        background-position: 100% 100%; /* End shifted to bottom-right */
    }
}
