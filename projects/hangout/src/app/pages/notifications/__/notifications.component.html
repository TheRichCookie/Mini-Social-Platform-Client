<uk-page>
  <uk-page-body>
    <div class="hang-notifications">
      <div class="header">
        <uk-text size="lg">Notifications</uk-text>
        <uk-text>Unread: {{ unreadCount$ | async }}</uk-text>
      </div>

      <uk-list *ngIf="notifications$ | async as notifications; else empty">
        <li
          *ngFor="let n of notifications; trackBy: trackByNotification"
          class="uk-list-item"
        >
          <uk-tile [class.unread]="!n?.isRead">
            <div class="notif-row">
              <uk-text>{{ n?.type }}</uk-text>
              <uk-text>{{ n?.createdAt }}</uk-text>
              <uk-button appearance="ghost" (click)="markAsRead(n?._id)"
                >Mark as read</uk-button
              >
            </div>
          </uk-tile>
        </li>
      </uk-list>

      <ng-template #empty>
        <div class="empty-state">No notifications.</div>
      </ng-template>
    </div>
  </uk-page-body>
</uk-page>
