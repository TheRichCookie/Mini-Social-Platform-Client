<uk-page [bodyOverFlow]="UK_TYPE.PAGE.BODY_OVER_FLOW.HIDDEN">
  <uk-page-body [fullHeight]="true">
    <uk-scroll
      [isLoading]="PC.props.isLoading"
      (LOAD_MORE)="PC.methods.loadMore()"
    >
      <uk-page-part>
        @if (PC.props.list.length) {
          <div class="feeds">
            @for (item of PC.props.list; track item._id) {
              <div class="feed">
                <section class="header">
                  <div class="avatar">
                    <uk-shape-icon
                      [shapeIconType]="UK_TYPE.SHAPE_ICON.TYPE.CIRCLE"
                      [iconName]="UK_TYPE.SHAPE_ICON.ICON_NAME.USER"
                    />
                  </div>
                  <div class="info">
                    <uk-text>
                      {{ item.author?.username }}
                    </uk-text>
                    <time>
                      <uk-text
                        [typography]="UK_TYPE.TEXT.TYPOGRAPHY.SUBTITLE"
                        [fgColor]="UK_TYPE.TEXT.FG_COLOR.CONTENT_LOW_EMPHASIS"
                      >
                        {{ item.createdAt | date: "yyyy-MM-dd" }}
                      </uk-text>
                    </time>
                  </div>
                </section>
                <section class="content">
                  <uk-text-area [(ngModel)]="item.content" [disabled]="true" />
                </section>
                <section class="footer">
                  <div class="like">
                    <uk-text [typography]="UK_TYPE.TEXT.TYPOGRAPHY.BODY_1">
                      {{ item.likeCount }}
                    </uk-text>
                    <uk-icon
                      (click)="PC.methods.toggleLike(item)"
                      [name]="UK_TYPE.ICON.NAME.HEART"
                      [fgColor]="
                        item.isLikedByUser
                          ? UK_TYPE.ICON.FG_COLOR.CONTENT_ERROR
                          : UK_TYPE.ICON.FG_COLOR.CONTENT_HIGH_EMPHASIS
                      "
                      [cursor]="UK_TYPE.ICON.CURSOR.POINTER"
                    />
                  </div>
                  <div class="comment">
                    <uk-text [typography]="UK_TYPE.TEXT.TYPOGRAPHY.BODY_1">
                      {{ item.commentCount }}
                    </uk-text>
                    <uk-icon
                      (click)="PC.methods.openCommentModal(item)"
                      [name]="UK_TYPE.ICON.NAME.COMMENT"
                      [fgColor]="UK_TYPE.ICON.FG_COLOR.CONTENT_HIGH_EMPHASIS"
                      [cursor]="UK_TYPE.ICON.CURSOR.POINTER"
                    />
                  </div>
                </section>
              </div>
            }
          </div>
        } @else {
          <uk-empty-state> هیچ داده ای یافت نشد. </uk-empty-state>
        }
      </uk-page-part>
    </uk-scroll>
  </uk-page-body>
</uk-page>
