<uk-page>
  <uk-page-body>
    <div class="hang-home">
      <uk-list *ngIf="posts$ | async as posts; else empty">
        <li *ngFor="let p of posts; trackBy: trackByPost" class="uk-list-item">
          <uk-tile>
            <div class="post">
              <uk-image
                [source]="p.author?.profilePic ?? ''"
                *ngIf="p.author?.profilePic"
              />
              <div class="post-body">
                <uk-text>{{ p?.author?.username }}</uk-text>
                <uk-text>{{ p?.content }}</uk-text>
                <div class="post-actions">
                  <uk-button appearance="ghost"
                    >üí¨ {{ p?.comments?.length }}</uk-button
                  >
                  <uk-button appearance="ghost" (click)="toggleLike(p?._id)"
                    >‚ù§Ô∏è {{ p?.likeCount }}</uk-button
                  >
                </div>
              </div>
            </div>
          </uk-tile>
        </li>
      </uk-list>

      <ng-template #empty>
        <div class="empty-state">No posts yet.</div>
      </ng-template>
    </div>
  </uk-page-body>
</uk-page>
